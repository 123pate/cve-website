// convert news item title into 5 words or less with '-' separator
export default {
  methods: {
    createShortTitle(newsItem) {
      const maxWords = 5;
      let numTitleWords = 0;
      let shortTitle = '';
      try {
        numTitleWords = newsItem.title.match(/\s/g).length + 1;
      } catch (err) {
        // no spaces in title
      }
      if (numTitleWords > maxWords) { // shorten
        shortTitle = newsItem.title.split(' ').slice(0, maxWords).join('-');
      } else { shortTitle = newsItem.title.replace(' ', '-'); }
      return shortTitle;
    },
    createItemUrlDetail(newsItem) { // format: {year}/{month}/{day}/{short-title}
      const dateParts = newsItem.date.split('-');
      let detail = `${dateParts[0]}/${dateParts[1]}/${dateParts[2]}`;
      const maxWords = 5;
      let numTitleWords = 0;
      let shortTitle = '';
      try {
        numTitleWords = newsItem.title.match(/\s/g).length + 1;
      } catch (err) {
        // no spaces in title
      }
      if (numTitleWords > maxWords) { // shorten
        shortTitle = newsItem.title.split(' ').slice(0, maxWords).join('-');
      } else { shortTitle = newsItem.title.replace(' ', '-'); }
      detail += `/${shortTitle}`;
      return detail;
    },
  },
};
