<template>
  <div class="vulnerability-nav-min">
    <div class="vn-inner">
      <div class="logo">
        <router-link to="/">
          <svg width="90" height="36">
            <path d="M30.4,21.7c-1.1-0.6-2.4-0.6-3.5,0c-0.2,0.1-0.8,0.4-1.1,0.3c-0.4-0.1-1-0.5-1.3-0.6l-0.7-0.4l-0.4-0.2c0,0,0.1,0-0.4-0.2
              c-0.5-0.3-0.9-0.8-0.8-1.5l0,0c0.1-0.4,0.1-0.7,0.1-1.1c0-0.4,0-0.7-0.1-1.1c-0.1-0.7,0.3-1.2,0.8-1.5c0.5-0.3,0.4-0.2,0.4-0.2
              l0.4-0.2l0.7-0.4c0.3-0.2,0.9-0.5,1.3-0.6c0.3-0.1,0.9,0.2,1.1,0.3c1,0.6,2.4,0.7,3.5,0c1.6-0.9,2.2-3,1.3-4.7l-0.1-0.1
              c-0.9-1.6-3-2.2-4.7-1.3c-1.1,0.6-1.7,1.8-1.7,3c0,0.2,0,0.9-0.3,1.1c-0.3,0.3-0.9,0.6-1.2,0.8l-0.5,0.3l-0.6,0.3L22.3,14
              c-0.5,0.3-1.2,0.4-1.7-0.1l0,0c-0.5-0.5-1.2-0.9-1.9-1.1v0c-0.6-0.3-0.9-0.9-0.9-1.4c0-0.4,0-0.5,0-0.5c0,0,0,0,0,0v-0.4l0-0.8
              c0-0.3,0-1,0.1-1.4c0.1-0.3,0.7-0.7,0.8-0.8c1.1-0.6,1.8-1.7,1.8-3c0-1.9-1.5-3.4-3.4-3.4h-0.1c-1.9,0-3.4,1.5-3.4,3.4
              c0,1.3,0.7,2.4,1.8,3C15.4,7.6,16,8,16.1,8.3c0.1,0.5,0.1,1.1,0.1,1.4l0,0.6v0.7v0.4c0,0.6-0.3,1.2-0.9,1.4v0
              c-0.7,0.2-1.4,0.6-1.9,1.1l0,0c-0.5,0.4-1.2,0.4-1.7,0.1c-0.5-0.3-0.4-0.2-0.4-0.2l-0.4-0.2l-0.7-0.4C9.9,13,9.3,12.7,9,12.4
              c-0.2-0.2-0.3-0.9-0.3-1.1c0-1.2-0.6-2.4-1.7-3C5.4,7.3,3.3,7.8,2.3,9.5L2.3,9.6c-0.9,1.6-0.4,3.7,1.3,4.7c1.1,0.6,2.4,0.6,3.5,0
              c0.2-0.1,0.8-0.4,1.1-0.3c0.4,0.1,1,0.5,1.3,0.6l0.5,0.3l0.6,0.3l0.3,0.2c0.5,0.3,0.9,0.8,0.8,1.5c-0.1,0.4-0.1,0.7-0.1,1.1
              s0,0.7,0.1,1.1c0.1,0.7-0.3,1.2-0.8,1.5l-0.3,0.2l-0.6,0.3l-0.5,0.3c-0.3,0.2-0.9,0.5-1.3,0.6c-0.3,0.1-0.9-0.2-1.1-0.3
              c-1-0.6-2.4-0.7-3.5,0c-1.6,0.9-2.2,3-1.3,4.7l0.1,0.1c0.9,1.6,3,2.2,4.7,1.3c1.1-0.6,1.7-1.8,1.7-3c0-0.2,0-0.9,0.3-1.1
              c0.3-0.3,0.9-0.6,1.2-0.8l0.7-0.4l0.4-0.2c0,0-0.1,0,0.4-0.2c0.5-0.3,1.2-0.4,1.7,0.1l0,0c0.5,0.5,1.2,0.9,1.9,1.1v0
              c0.6,0.3,0.9,0.9,0.9,1.4v0.4v0.7l0,0.6c0,0.3,0,1-0.1,1.4c-0.1,0.3-0.7,0.7-0.8,0.8c-1.1,0.6-1.8,1.7-1.8,3c0,1.9,1.5,3.4,3.4,3.4
              H17c1.9,0,3.4-1.5,3.4-3.4c0-1.3-0.7-2.4-1.8-3c-0.2-0.1-0.8-0.5-0.8-0.8c-0.1-0.5-0.1-1.1-0.1-1.4l0-0.8v-0.4v0c0,0,0-0.1,0-0.5
              c0-0.6,0.3-1.2,0.9-1.4v0c0.7-0.2,1.3-0.6,1.9-1.1l0,0c0.5-0.4,1.2-0.4,1.7-0.1l0.3,0.2l0.6,0.3l0.5,0.3c0.3,0.2,0.9,0.5,1.2,0.8
              c0.2,0.2,0.3,0.9,0.3,1.1c0,1.2,0.6,2.4,1.7,3c1.6,0.9,3.7,0.4,4.7-1.3l0.1-0.1C32.6,24.8,32,22.7,30.4,21.7z"/>
            <path d="M59,25.3c-0.6,0-1.1-0.2-1.5-0.5c-0.2-0.2-0.5-0.4-0.8-0.7c-0.3-0.3-0.5-0.5-0.7-0.8c-0.3-0.4-0.5-0.9-0.5-1.5v-6.4
              c0-0.6,0.2-1.1,0.5-1.5c0.2-0.2,0.4-0.5,0.7-0.8s0.5-0.5,0.8-0.7c0.4-0.3,0.9-0.5,1.5-0.5h2.9c1.1,0,2,0.6,2.9,1.8
              c0.3,0.4,0.6,0.9,0.7,1.4L63,15.9c-0.4-0.7-0.7-1.1-1.1-1.3H59c0,0-0.2,0.1-0.4,0.4c-0.2,0.2-0.4,0.4-0.4,0.4V22
              c0,0,0.1,0.2,0.4,0.4c0.2,0.2,0.4,0.4,0.4,0.4h2.8c0.4-0.2,0.7-0.7,1.1-1.3l2.5,0.7c-0.2,0.5-0.4,1-0.7,1.4
              c-0.9,1.2-1.8,1.8-2.9,1.8H59z"/>
            <path d="M75.2,12.2H78l-4.2,13h-3l-4.2-13h2.8l2.8,9.5L75.2,12.2z"/>
            <path d="M88.4,14.7h-5.9v2.7h5.7v2.5h-5.7v2.7h5.9v2.5h-8.6v-13h8.6V14.7z"/>
          </svg>
        </router-link>
      </div>
      <div class="search">
        <input type="text" placeholder="Enter CVE ID, product or vendor" />
        <router-link to="/vulnerabilities/search"><svg width="11" height="11">
          <ellipse transform="matrix(0.7071 -0.7071 0.7071 0.7071 -1.7131 4.2987)" class="st0" cx="4.3" cy="4.2" rx="3.5" ry="3.5"/>
          <line class="st0" x1="6.8" y1="6.7" x2="10.4" y2="10.3"/>
        </svg> &nbsp;&nbsp;Search</router-link>
      </div>
      <div class="links">
        <ul>
          <li class="lnk-about">
            <router-link to="/vulnerabilities/about">About</router-link>
          </li>
          <li class="lnk-download">
            <router-link to="/vulnerabilities/download">Download</router-link>
          </li>
          <li class="lnk-identify-update">
            <router-link to="/identify">Identify</router-link>
          </li>
          <li class="menu-profile" v-if="!notLoggedIn">
            <div class="dropdown is-right" v-bind:class="{ 'is-active': showMenu }">
              <div class="dropdown-trigger" v-on:click="toggleMenu()">
                <a>
                  <svg width="42" height="28">
                    <g>
                      <circle cx="13.8" cy="12.4" r="4.8"/>
                      <path d="M13.8,1c-7.2,0-13,5.8-13,13c0,7.2,5.8,13,13,13c7.2,0,13-5.8,13-13C26.8,6.8,20.9,1,13.8,1z M21.4,23.2
                        c-1.4-2.9-4.3-4.8-7.6-4.8c-3.4,0-6.3,2-7.6,4.8C3.5,21,1.8,17.7,1.8,14c0-6.6,5.4-12,12-12c6.6,0,12,5.4,12,12
                        C25.8,17.7,24.1,21,21.4,23.2z"/>
                      <polygon points="30.8,12.4 35.2,16.4 39.5,12.4  "/>
                    </g>
                  </svg>
                </a>
              </div>
              <div class="dropdown-menu" id="dropdown-menu" role="menu">
                <div class="dropdown-content">
                  <a href="#" class="dropdown-item">
                    View Profile
                  </a>
                  <a href="#" class="dropdown-item">
                    Logout
                  </a>
                </div>
              </div>
            </div>
          </li>
          <li class="lnk-sign-up" v-if="notLoggedIn">
            <router-link to="/signup">Sign Up</router-link>
          </li>
          <li class="lnk-login" v-if="notLoggedIn">
            <router-link to="/login">Login</router-link>
          </li>
        </ul>
      </div>
    </div><!-- .vn-inner -->
  </div><!-- .vulnerability-nav -->
</template>

<script>
export default {
  name: 'VulnerabilityNavMin',
  props: {
    msg: String,
  },
  data: function() {
    return {
      showMenu: false
    }
  },
  mounted: function() {

  },
  methods: {
    toggleMenu: function() {
      this.showMenu = !this.showMenu;
    },
    submitSearch: function() {
      this.$router.push('')
    }
  },
  computed: {
    notLoggedIn: function() {
      return !this.$store.state.authenticated;
    }
  }
};
</script>

<style scoped lang="scss">
  @import '../assets/style/globals';

  .vulnerability-nav-min {
    // padding: 0 20px;


    .vn-inner {
      max-width: $max-width;
      margin: auto;
      display: flex;
      align-items: center;
      padding: 38px 0;
    }

    .links {
      flex-grow: 1;
      font-size: 13px;
      text-transform: uppercase;
      margin-left: 37px;
      a {
        color: $fg1;
      }

      a:hover{
        opacity: 0.5;
      }

      ul {
        display: flex;
        align-items: center;
        justify-content: space-between;

        .li {
          margin: 0 15px;
        }

        .li:first-child {
          margin-left: 0;
        }

        .li:last-child {
          margin-right: 0;
        }
      }
    }
  }

  .logo a {
    display: block;
    width: 90px;
    height: 36px;
  }

  .logo a:hover {
    opacity: 0.5;
  }

  .search {
    display: flex;
    align-items: center;
    margin: 0 0 0 32px;
    flex-grow: 2;
    input {
      flex-grow: 2;
      border: #d9d9d9 1px solid;
      padding: 8px;
      box-sizing: border-box;
      display: block;
      height: 31px;
    }

    a {
      color: $bg1;
      display: block;
      background: $fg1;
      height: 31px;
      display: flex;
      align-items: center;
      margin-left: 10px;
      padding: 0 15px;
      text-transform: uppercase;
      font-size: 13px;
    }

    a:hover {
      background: #333;
    }

    ellipse, line {
      fill: none;
      stroke: #fff;
    }
  }

</style>
