<template>
  <div class="dashboard">
    <PriorityMessages></PriorityMessages>    
    <PrimaryNav></PrimaryNav>    
    <VulnerabilityNav></VulnerabilityNav>


    <div class="dashboard-body">
    	<div class="dashboard-body-inner">
		    <div v-if="role === 'discoverer'">
		    	<div class="activity-list">
		    		<div class="activity-title" style="display: flex; align-items: center;">
		    			<span style="padding-top: 1px;display: block;">
		    				Recent Activity
		    			</span>
		    			<span style="display: inline-block; margin-left: 6px; color:#fff;background:#000; font-size: 13px; font-weight: 700; border-radius: 100px;padding: 0 6px">
			    			3
			    		</span>
			    	</div>

		    		<div class="activity-element">
		    			<div class="activity-description">The vulnerability you submitted for Intelbras	Iwr 1000n Firmware was approved</div>
		    			<div class="activity-timestamp">Nov 6 2019 (1 day ago)</div>
		    			<div class="activity-actions">
		    				<a href="#">View Details</a>
		    			</div>
		    		</div><!-- .activity-element -->

		    		<div class="activity-element">
		    			<div class="activity-description">The  vulnerability you submitted for Joomis Harmis JE Messenger needs 2 additional public references</div>
		    			<div class="activity-timestamp">Nov 5 2019 (2 days ago)</div>
		    			<div class="activity-actions">
		    				<a href="#">View Details</a>
		    			</div>
		    		</div><!-- .activity-element -->

		    		<div class="activity-element">
		    			<div class="activity-description">The vulnerability you submitted for Symantec Endpoint Encryption was rejected</div>
		    			<div class="activity-timestamp">Nov 5 2019 (2 days ago)</div>
		    			<div class="activity-actions">
		    				<a href="#">View Details</a>
		    			</div>
		    		</div><!-- .activity-element -->

		    	</div><!-- .activity-list -->
		    </div><!-- discoverer -->
		    <div v-if="role === 'authority'">
		    	<div class="stats-title">Authority Scope Statistics</div>
		    	<div class="stats-grid">
		    		<div class="stat-module">
			    		<div class="stat-label">
			    			Average Time to Populate
			    		</div>
			    		<div class="stat-value">
			    			12.08 days 
			    		</div>
			    	</div><!-- .stat-module -->
		    		<div class="stat-module">
			    		<div class="stat-label">
			    			Population Authority Rank
			    		</div>
			    		<div class="stat-value">
			    			38th of 104
			    		</div>
			    	</div><!-- .stat-module -->
			    	<div class="stat-module">
			    		<div class="stat-label">
			    			Reserved But Public Threshold
			    		</div>
			    		<div class="stat-value">
			    			2.1%
			    		</div>
			    	</div><!-- .stat-module -->
		    		<div class="stat-module">
			    		<div class="stat-label">
			    			Reserved But Public Authority Rank
			    		</div>
			    		<div class="stat-value">
			    			77th of 104
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">
			    			Total CVE IDs Reserved
			    		</div>
			    		<div class="stat-value">
			    			83,936
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">
			    			Public CVE IDs
			    		</div>
			    		<div class="stat-value">
			    			72,754
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">			    			
								Current Reserved But Public Vulnerabilities							
			    		</div>
			    		<div class="stat-value">
			    				156
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">
			    			Populated CVE IDs	
			    		</div>
			    		<div class="stat-value">
			    			71,896
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">
			    			CVE IDs Reserved Last Week
			    		</div>
			    		<div class="stat-value">
			    				111
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">
			    			Weekly Average CVE IDs Reserved
			    		</div>
			    		<div class="stat-value">
			    			171.38
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">			    			
								CVE IDs Made Public Last Week
			    		</div>
			    		<div class="stat-value">
			    				119
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">			    			
								Weekly Average CVE IDs Made Public
			    		</div>
			    		<div class="stat-value">
			    				128.55									
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">			    			
								RBP IDs from Last Week
			    		</div>
			    		<div class="stat-value">
			    			4		
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">			    			
								Average Weekly RBP IDs
			    		</div>
			    		<div class="stat-value">
		    				22.35			
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">			    			
								CVE IDs Populated Last Week	
			    		</div>
			    		<div class="stat-value">
		    				158	
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">			    			
								Weekly Average CVE IDs Populated
			    		</div>
			    		<div class="stat-value">
		    				138.58								
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">			    			
								Average Time to Populate Last Week
			    		</div>
			    		<div class="stat-value">
		    				86.24 days
			    		</div>
			    	</div><!-- .stat-module -->

		    		<div class="stat-module">
			    		<div class="stat-label">			    			
								Weekly Average Time to Populate
			    		</div>
			    		<div class="stat-value">
		    				12.08 days
			    		</div>
			    	</div><!-- .stat-module -->
		    	</div><!-- .stats-grid -->

		    	<div class="activity-list">
		    		<div class="activity-title" style="display: flex; align-items: center;">
		    			<span style="padding-top: 1px;display: block;">
		    				Recent Activity
		    			</span>
		    			<span style="display: inline-block; margin-left: 6px; color:#fff;background:#000; font-size: 13px; font-weight: 700; border-radius: 100px;padding: 0 6px">
			    			3
			    		</span>
			    	</div>

		    		<div class="activity-element">
		    			<div class="activity-description">A new vulnerability for Product X has been submitted and requires review</div>
		    			<div class="activity-timestamp">Nov 6 2019 (1 day ago)</div>
		    			<div class="activity-actions">
		    				<a href="#">View Details</a>
		    			</div>
		    		</div><!-- .activity-element -->

		    		<div class="activity-element">
		    			<div class="activity-description">A new vulnerability for Product Y has been submitted and requires review</div>
		    			<div class="activity-timestamp">Nov 5 2019 (2 days ago)</div>
		    			<div class="activity-actions">
		    				<a href="#">View Details</a>
		    			</div>
		    		</div><!-- .activity-element -->

		    		<div class="activity-element">
		    			<div class="activity-description">An update to vulnerability for Product Z has been submitted and requires review</div>
		    			<div class="activity-timestamp">Nov 5 2019 (2 days ago)</div>
		    			<div class="activity-actions">
		    				<a href="#">View Details</a>
		    			</div>
		    		</div><!-- .activity-element -->

		    	</div><!-- .activity-list -->
		    </div><!-- authority -->
		    <div v-if="role === 'working-group'">
		    	Working Group
		    </div>
		    <div v-if="role === 'board'">
		    	Board
		    </div>
		    <div v-if="role === 'root'">
		    	Root
		    </div>

		    <select v-model="role">
		    	<option value="discoverer">Discoverer</option>
		    	<option value="authority">Authority</option>
		    	<option value="working-group">Working Group</option>
		    	<option value="board">Board Member</option>
		    	<option value="root">Root Authority</option>
		    </select>


		  </div><!-- .dashboard-body-inner -->
	  </div><!-- .dsahboard-body -->
	  <FooterModule></FooterModule>
  </div><!-- .dashboard -->
</template>

<script>
	import PriorityMessages from '@/components/PriorityMessages.vue';
	import PrimaryNav from '@/components/PrimaryNav.vue';
	import VulnerabilityNav from '@/components/VulnerabilityNav.vue';
	import FooterModule from '@/components/FooterModule.vue';
	export default {
	  name: 'Dashboard',
	  components: {
	  	PriorityMessages: PriorityMessages,
	  	PrimaryNav: PrimaryNav,
	  	VulnerabilityNav: VulnerabilityNav,
    	FooterModule: FooterModule
	  },
	  mounted: function() {
	  	window.db = this;
	  },
	  computed: {
	  	role: {
	  		get: function() {
		  		return this.$store.getters.getRole;
		  	},
	  		set: function(value){
	  			this.$store.commit('setRole', value);
	  		}
	  	}
	  }

	}
</script>

<style lang="scss" scoped>
  @import '../assets/style/globals';


  .dashboard-body-inner {
    margin: auto;
    max-width: $max-width;
    padding: 0;
    margin-bottom: 70px;

  }
  .stats-title {
  	margin-bottom: 15px;
  	border-top: #eee 1px solid;
  	padding-top: 20px;
  }

  .stats-grid {
  	display: flex;
  	width: 100%;
  	flex-wrap: wrap;
  	font-size: 14px;
  	padding-bottom: 15px;
  	margin-bottom: 20px;
  	border-bottom: #ddd 1px solid;
  }

  .stat-module {
  	width: 50%;
  	display: flex;
  	margin-bottom: 10px;
  	box-sizing: border-box;
  }

  .stat-label {
  	color: $fg1;
  	width: 70%;
  }

  .stat-value {
  	padding-left: 10px;
  }

  .activity-title {  	
    // padding-bottom: 10px;
    // border-bottom: #eee 1px solid;
    margin-bottom: 10px;
  }

  .activity-element {
  	font-size: 14px;
  	border-bottom: #eee 1px solid;
  	margin: 10px 0;
  	padding: 10px 0;

  	.activity-description {
  		color: #000;
  	}

  	.activity-timestamp {
  		color: #666;
  	}
  }


</style>