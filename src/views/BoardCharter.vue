<template>
  <div id="cve-tertiary-page-main-container" class="container">
    <div class="columns">
      <div class="column is-4">
        <TableOfContentsSidebar :nav="cvePageNavs"/>
      </div>
      <div class="column is-8">
        <main id="cve-tertiary-page-main-content" role="main">
        <h2 class="title">CVE Board Charter</h2>
        <div id="cve-versionInformation">
          <span class="cve-version-category">Document Version: </span>
            <span>{{versionNum}}</span><br>
          <span class="cve-version-category">Effective Date: </span>
            <span>{{versionDate}}</span><br>
        </div>
        <hr>
        <!-- Top level section -->
        <div class="cve-board-charter-section"
            v-for="(section, index) of charterSections" :key="index">
          <div class="cve-board-charter-section-header" role="button">
             <h3 class="cve-board-charter-section-title" :id="section.sectionId">
               {{ section.sectionTitle }}
             </h3>
          </div>
          <div class="cve-board-charter-section-content" v-html="section.sectionContent">
          </div>
          <!-- Sub section -->
          <div class="cve-board-charter-section"
            v-for="(subSection, index) of section.subSections" :key="index">
            <div class="cve-board-charter-section-header" role="button">
             <h4 class="cve-board-charter-section-title" :id="subSection.subSectionId">
                {{ subSection.subSectionTitle }}
             </h4>
            </div>
            <div class="cve-board-charter-section-content" v-html="subSection.subSectionContent">
            </div>
            <!-- Sub-sub section -->
            <div class="cve-board-charter-section-content"
               v-for="(subSubSection, index) of subSection.subSubSections" :key="index">
                  <h5 class="cve-board-charter-section-title" :id="subSubSection.subSubSectionId">
                  {{subSubSection.subSubSectionTitle}}
                  </h5>
                  <div class="cve-board-charter-section-content" v-html="subSubSection.subSubSectionContent">
                  </div>
           </div>             <!-- end Sub-sub section -->
          </div>        <!-- end Sub section -->
    </div>         <!-- end Top level section -->
   </main>
   </div>
 </div>             <!-- end columns -->
</div>
</template>

<script>
import TableOfContentsSidebar from '@/components/TableOfContentsSidebar.vue';
import charterData from '../assets/data/boardCharter.json';

export default {
  name: 'BoardCharterLeftNav',
  components: {
    TableOfContentsSidebar,
  },
  data() {
    return {
      versionNum: charterData.versionNumber,
      versionDate: charterData.versionDate,
      charterSections: charterData.pageSections,
      cvePageNavs: charterData,
    };
  },
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
@import '../assets/style/globals.scss';

.cve-version-category {
  font-weight: bold;
}

.cve-board-charter-section {
  padding-bottom: 20px;
}

.cve-board-charter-section-header, .cve-board-charter-section-title {
  display: inline;
}

h3.cve-board-charter-section-title {
    font-size: 24px;
    font-weight: bold;
}

h4.cve-board-charter-section-title {
    font-size: 20px;
    font-weight: bold;
}

h5.cve-board-charter-section-title {
    font-weight: bold;
}

</style>
