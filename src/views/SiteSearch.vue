<template>
  <div id="cve-secondary-page-main-container">
    <div class="columns">
      <div class="column is-half is-offset-one-quarter">
        <main id="cve-secondary-page-main-content" role="main">
          <h2 class="title">Search CVE Site</h2>
          <div class="gcse-searchbox"></div>
          <div class="gcse-searchresults"></div>
        </main>
      </div>
    </div>
  </div>
</template>

<script>
import Vue from 'vue';
import LoadScript from 'vue-plugin-load-script';

Vue.use(LoadScript);

export default {
  mounted() {
    Vue.loadScript('https://cse.google.com/cse.js?cx=3f60a0cc494b9b030')
      .then(() => {
        // Script is loaded, do something
        console.log('Loaded Google CSE script');
      })
      .catch(() => {
        // Failed to fetch script
        console.error('Failed to load Google CSE script');
      });
  },
  destroyed() {
    Vue.unloadScript('https://cse.google.com/cse.js?cx=3f60a0cc494b9b030')
      .then(() => {
        console.log('Unloaded Google CSE script');
      })
      .catch(() => {
        // Failed to fetch script
        console.error('Failed to unload Google CSE script');
      });
  },
};

</script>

<style scoped lang="scss">
@import '../assets/style/globals.scss';
#cve-secondary-page-main-container {
  background-color: white;
}
</style>
