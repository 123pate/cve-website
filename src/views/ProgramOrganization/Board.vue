<template>
  <div id="cve-secondary-page-main-container" class="container">
    <div class="columns">
      <div class="column is-8">
        <main id="cve-main-page-content" role="main">
          <div class="content">
            <h1 class="title cve-heading-top-spacing">Board</h1>
            <p>
              Through open and collaborative discussions, the CVE Board ensures that the CVE Program meets the vulnerability identification needs of
              the global cybersecurity and technology community.
            </p>
            <p>
              Board members represent numerous cybersecurity-related organizations, including commercial security tool vendors, academia, research
              institutions, government departments and agencies, and other prominent security experts, as well as end-users of vulnerability
              information.
            </p>
            <p>
              All Board Meetings and Board Email List Discussions are archived for the community.
            </p>
            <h2 :id="cvenavs['Program Organization']['submenu']['Board']['items']['Resources']" class="title cve-heading-top-spacing">
              Resources
            </h2>
            <div class="tile is-ancestor cve-task-tiles-container">
              <div class="tile is-parent cve-task-left-tile">
                <article class="tile is-child cve-task-tile">
                  <h3 class="title cve-task-tile-header">
                    Archives
                  </h3>
                  <ul class="tile-body cve-task-tile-list">
                    <li class="cve-task-tile-list-item"><a href="/">Board Meeting Summaries</a></li>
                    <li class="cve-task-tile-list-item">
                      <a href="http://common-vulnerabilities-and-exposures-cve-board.1128451.n5.nabble.com/">Board Email Discussion List</a>
                    </li>
                  </ul>
                </article>
              </div>
              <div class="tile is-parent cve-task-learn-tile">
                <article class="tile is-child cve-task-tile">
                  <h3 class="title cve-task-tile-header">
                    Documents
                  </h3>
                  <ul class="tile-body cve-task-tile-list">
                    <li class="cve-task-tile-list-item"><a href="/ResourcesSupport/AllResources/BoardCharter">Charter</a></li>
                  </ul>
                </article>
              </div>
            </div>
            <h2 :id="cvenavs['Program Organization']['submenu']['Board']['items']['Members']" class="title cve-heading-top-spacing">
              Members
            </h2>
            <section class="hero">
              <b-collapse
                aria-id="contentIdForA11y1"
                class="panel cve-panel"
                animation="slide"
                v-model="isOpen1">
                <div
                  slot="trigger"
                  class="panel-heading card-header cve-panel-heading"
                  role="button"
                  aria-controls="contentIdForA11y1">
                  <h4 class="title card-header-title cve-b-collapse-header-title">Current</h4>

                  <a class="card-header-icon cve-b-collapse-header-icon">
                    <font-awesome-icon icon="caret-down" v-show="isOpen1" v-on:click="isOpen1 = false"/>
                    <font-awesome-icon icon="caret-up" v-show="!isOpen1" v-on:click="isOpen = true"/>
                  </a>
                </div>
                <div class="content">
                  <div class="hero-body cve-board-tiles-hero-body cve-board-tiles-row" v-for="(chuckedBoardMembersList, index) in
                  preprocessedBoardMembersList"
                    :key="index">
                    <div class="container">
                      <div class="tile is-ancestor cve-board-tiles">
                        <div class="tile is-parent cve-board-tile-container" v-for="(member, index) in chuckedBoardMembersList" :key="index">
                          <div class="tile is-child box cve-board-tile">
                            <div class="cve-board-tile-content">
                              <figure class="image is-128x128 cve-board-photo">
                                <img src="https://bulma.io/images/placeholders/128x128.png">
                              </figure>
                              <p class="title is-5">{{member.firstName}} {{member.familyName}}</p>
                              <p class="subtitle is-6"><a href=member.organizationURL target="_blank">{{member.organization}}</a></p>
                              <p class="subtitle is-6" v-if="member.role != 'Board'">{{member.role}}</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </b-collapse>
            </section>

            <section>
              <b-collapse
                  aria-id="contentIdForA11y2"
                  class="panel cve-panel"
                  animation="slide"
                  v-model="isOpen">
                  <div
                    slot="trigger"
                    class="panel-heading card-header cve-panel-heading"
                    role="button"
                    aria-controls="contentIdForA11y2">
                    <h4 class="title card-header-title cve-b-collapse-header-title">Past</h4>

                    <a class="card-header-icon cve-b-collapse-header-icon">
                      <font-awesome-icon icon="caret-down" v-show="isOpen" v-on:click="isOpen = false"/>
                      <font-awesome-icon icon="caret-up" v-show="!isOpen" v-on:click="isOpen = true"/>
                    </a>
                  </div>
                  <b-tabs v-model="pastMembersTab">
                  <b-tab-item label="Emeritus" class="cve-b-tab-tem-general">
                    <div class="content">
                      <p>
                        The individuals listed below are former members of the CVE Board. We thank them for contributions, especially those with
                        “Emeritus” status who have made particularly significant contributions to the CVE effort.
                      </p>
                      <ul>
                        <li>Andy Balinsky</li>
                        <li>Scott Blake</li>
                        <li>Harold Booth</li>
                        <li>Steve Christey Coley</li>
                        <li>Andre Frech</li>
                        <li>Elias Levy</li>
                        <li>Peter Mell</li>
                        <li>Steve Northcutt</li>
                        <li>Adam Shostack</li>
                        <li>Gene Spafford</li>
                      </ul>
                    </div>
                  </b-tab-item>
                  <b-tab-item label="Other Past Contributors" class="cve-b-tab-tem-general">
                    <div class="content">
                      <div class="columns">
                        <div class="column">
                          <li>Jimmy Alderson</li>
                          <li>David Baker</li>
                          <li>David Balenson</li>
                          <li>Matt Bishop</li>
                          <li>Troy Bollinger</li>
                          <li>Natalie Brader</li>
                          <li>Rob Clyde</li>
                          <li>Tim Collins</li>
                          <li>Eric Cole</li>
                          <li>Kelly Cooper</li>
                          <li>Russ Cooper</li>
                          <li>Marc Dacier</li>
                          <li>Renaud Deraison</li>
                          <li>Casper Dik</li>
                          <li>Carsten Eiram</li>
                        </div>
                        <div class="column">
                          <li>Bill Fithen</li>
                          <li>John Flowers</li>
                          <li>Dana Foat</li>
                          <li>Stu Green</li>
                          <li>Patrick Heim</li>
                          <li>Shawn Hernan</li>
                          <li>Bill Hill</li>
                          <li>Al Huger</li>
                          <li>Jim Jones</li>
                          <li>Panos Kampanakis</li>
                          <li>David LeBlanc</li>
                          <li>Jim Magdych</li>
                          <li>David Mann</li>
                          <li>Brian Martin</li>
                          <li>Scott Moore</li>
                        </div>
                        <div class="column">
                          <li>Ron Nguyen</li>
                          <li>Larry Oliver</li>
                          <li>Craig Ozancin</li>
                          <li>Alan Paller</li>
                          <li>Paul Proctor</li>
                          <li>Mike Prosser</li>
                          <li>Damir Rajnovic</li>
                          <li>Marcus Ranum</li>
                          <li>Elizabeth Scott</li>
                          <li>Steve Snapp</li>
                          <li>Stuart Staniford</li>
                          <li>Tom Stracener</li>
                          <li>Bill Wall</li>
                          <li>Kevin Ziese</li>
                        </div>
                      </div>
                    </div>
                  </b-tab-item>
                </b-tabs>
              </b-collapse>
            </section>
          </div>
        </main>
      </div>
      <div class="column is-4">
        <NavigationSidebar :nav="cvenavs['Program Organization']" />
      </div>
    </div>
  </div>
</template>

<script>
import NavigationSidebar from '@/components/NavigationSidebar.vue';
import CurrentBoardMembersData from '../../assets/data/currentBoardMembersList.json';

export default {
  name: 'Board',
  components: {
    NavigationSidebar,
  },
  props: {
    cvenavs: {
      type: Object,
      required: true,
    },
  },
  data() {
    return {
      pastMembersTab: 0,
      isOpen: true,
      isOpen1: true,
    };
  },
  computed: {
    preprocessedBoardMembersList() {
      function compareFamilyName(member1, member2) {
        const fName1 = member1.familyName.toLowerCase();
        const fName2 = member2.familyName.toLowerCase();
        if (fName1 < fName2) {
          return -1;
        } if (fName1 > fName2) {
          return 1;
        }
        return 0;
      }

      const boardMembersByAlphabeticalOrder = CurrentBoardMembersData.sort((member1, member2) => compareFamilyName(member1, member2));
      let i; let j; let k; const preprocessedBoardMembersList = []; const chunk = 4;
      for (i = 0, k = 0, j = boardMembersByAlphabeticalOrder.length; i < j; i += chunk, k += 1) {
        preprocessedBoardMembersList[k] = boardMembersByAlphabeticalOrder.slice(i, i + chunk);
      }

      return preprocessedBoardMembersList;
    },
  },
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
@import '../../assets/style/globals.scss';

/* Board page specific */
.card {
  max-width: 200px;
}

.card .media {
  margin-bottom: unset;
}

.card-content {
    padding: 1rem;
}

/* Tile */

.icon, .persona-icon {
  display: block;
  margin-right: auto;
  margin-left: auto;
  margin-bottom: 15px;
  color: $theme-color-primary-darker;
}

.tile.is-child.cve-board-tile {
  border-style: solid;
  border-width: 1px;
  border-color: $theme-color-primary-darker;
  border-radius: unset;
  font-weight: bold;
  padding: unset;
}

.cve-board-tile-content {
  padding: 0.5rem;
}

.cve-task-tile-title {
  margin-left:15px;
}

.cve-task-tile-icon {
  color: white;
  margin-left: unset;
  margin-right: unset;
}

.cve-task-report-tile {
  padding-right: 0px !important;
}

.tile.is-child.task-tile {
    padding: unset;
}

.icon {
  margin-bottom: unset;
}

.cve-b-tab-tem-general {
  text-align: left;
}
.cve-board-photo {
  margin: 0 auto 8px auto;
}

.hero-body {
    padding-top: unset;
    padding-bottom: unset;
}
</style>
