<template>
  <div id="cve-tertiary-page-main-container" class="container">
    <div class="columns">
      <div class="column is-4">
        <TableOfContentsSidebar :nav="cvePageNavs"/>
      </div>
      <div class="column is-8">
        <main id="cve-tertiary-page-main-content" role="main">
          <h1 class="title">CVE Numbering Authority (CNA) Rules</h1>
          <div id="cve-versionInformation">
            <span class="has-text-weight-bold">Document Version: </span>
              <span>{{versionNum}}</span><br>
            <span class="has-text-weight-bold">CVE Board Approval: </span>
              <span>{{versionApprovalDate}}</span><br>
            <span class="has-text-weight-bold">Effective Date: </span>
              <span>{{versionDate}}</span><br>
          </div>
          <hr>
          <!-- Top level section -->
          <div class="content">
            <ol class="cve-list-no-indent">
              <li v-for="(section, index) of cnaRulesSections" :key="index">
                <h2 class="title" :id="section.sectionId">
                  {{ section.sectionTitle }}
                </h2>
                <p v-for="(para, index) of section.sectionParagraphs" v-html="para" :key="index"></p>
                <!-- Sub section -->
                <ol class="cve-list-no-indent">
                  <li v-for="(subSection, index) of section.subSections" :key="index">
                    <h3 class="title" :id="subSection.subSectionId">
                       {{ subSection.subSectionTitle }}
                    </h3>
                    <p v-for="(para, index) of subSection.subSectionParagraphs" v-html="para" :key="index"></p>
                  </li>
                </ol>  <!-- end page sub section -->
              </li>
            </ol> <!-- end page section -->
            <ul class="cve-ul-list">
              <li v-for="(section, index) of cnaRulesAppendices" :key="index">
                <h2 class="title" :id="section.sectionId">
                  {{ section.sectionTitle }}
                </h2>
                <p v-for="(para, index) of section.sectionParagraphs" v-html="para" :key="index"></p>
                <!-- Sub section -->
                <ul class="cve-ul-list">
                  <li v-for="(subSection, index) of section.subSections" :key="index">
                    <h3 class="title" :id="subSection.subSectionId">
                       {{ subSection.subSectionTitle }}
                    </h3>
                    <p v-for="(para, index) of subSection.subSectionParagraphs" v-html="para" :key="index"></p>
                  </li>
                </ul>  <!-- end appendices sub section -->
              </li>
            </ul> <!-- end appendicessection -->
	    
         </div>
        </main>
      </div>
    </div>             <!-- end columns -->
  </div>
</template>

<script>
import TableOfContentsSidebar from '@/components/TableOfContentsSidebar.vue';
import cnaRulesData from '../../../assets/data/cnaRules.json';

export default {
  name: 'CNARules',
  components: {
    TableOfContentsSidebar,
  },
  data() {
    return {
      versionNum: cnaRulesData.versionNumber,
      versionApprovalDate: cnaRulesData.versionApprovalDate,
      versionDate: cnaRulesData.versionDate,
      cnaRulesSections: cnaRulesData.pageSections,
      cnaRulesAppendices: cnaRulesData.appendices,      
      cvePageNavs: cnaRulesData,
    };
  },
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
@import '../../../assets/style/globals.scss';

.cve-list-no-indent {
  margin-left: 0px;
}

ol { counter-reset: item; }
ol li {display: block;}
ol li p {
  margin-bottom: 16px;
}
ol li h2::before, ol li h3::before {
            content: counters(item, ".");
            counter-increment: item;
}

.cve-ul-list {
  list-style-type: none;
  margin-left: 0px;
}
  
::v-deep .cve-acronym,
::v-deep .cve-acronym-definition {
  display: block;
}
</style>
